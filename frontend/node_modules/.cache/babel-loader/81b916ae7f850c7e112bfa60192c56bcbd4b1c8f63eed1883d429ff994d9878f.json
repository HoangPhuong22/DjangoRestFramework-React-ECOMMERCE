{"ast":null,"code":"import { userLoginSlice } from \"../reducers/userSlice\";\nimport axios from \"axios\";\nexport const login = (email, password) => async dispatch => {\n  try {\n    dispatch(userLoginSlice.actions.Request());\n    const config = {\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    };\n    const {\n      data\n    } = await axios.post('http://127.0.0.1:8000/api/users/login/', {\n      'username': email,\n      'password': password\n    }, config);\n    dispatch(userLoginSlice.actions.Success(data));\n    localStorage.setItem('userInfo', JSON.stringify(data));\n  } catch (error) {\n    dispatch(userLoginSlice.actions.Fail(error.response && error.response.data.detail ? error.response.data.detail : error.message));\n  }\n};\nexport const logout = () => async dispatch => {\n  localStorage.removeItem('userInfo');\n  dispatch(userLoginSlice.actions.Request());\n  dispatch(userLoginSlice.actions.Logout());\n};","map":{"version":3,"names":["userLoginSlice","axios","login","email","password","dispatch","actions","Request","config","headers","data","post","Success","localStorage","setItem","JSON","stringify","error","Fail","response","detail","message","logout","removeItem","Logout"],"sources":["D:/Desktop/ECOMMERCE/frontend/src/actions/userActions.js"],"sourcesContent":["import { userLoginSlice } from \"../reducers/userSlice\"\r\nimport axios from \"axios\";\r\n\r\nexport const login = (email, password) => async (dispatch) => {\r\n    try{\r\n        dispatch(userLoginSlice.actions.Request());\r\n        const config = {\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n            },\r\n        }\r\n        const { data } = await axios.post('http://127.0.0.1:8000/api/users/login/',\r\n        {'username': email, 'password': password}, config);\r\n\r\n        dispatch(userLoginSlice.actions.Success(data));\r\n\r\n        localStorage.setItem('userInfo', JSON.stringify(data));\r\n\r\n    }catch(error)\r\n    {\r\n        dispatch(userLoginSlice.actions.Fail(\r\n            error.response && error.response.data.detail\r\n            ? error.response.data.detail\r\n            : error.message\r\n        ));\r\n    }\r\n}\r\nexport const logout = () => async (dispatch) => {\r\n    localStorage.removeItem('userInfo');\r\n    dispatch(userLoginSlice.actions.Request());\r\n    dispatch(userLoginSlice.actions.Logout());\r\n}"],"mappings":"AAAA,SAASA,cAAc,QAAQ,uBAAuB;AACtD,OAAOC,KAAK,MAAM,OAAO;AAEzB,OAAO,MAAMC,KAAK,GAAGA,CAACC,KAAK,EAAEC,QAAQ,KAAK,MAAOC,QAAQ,IAAK;EAC1D,IAAG;IACCA,QAAQ,CAACL,cAAc,CAACM,OAAO,CAACC,OAAO,CAAC,CAAC,CAAC;IAC1C,MAAMC,MAAM,GAAG;MACXC,OAAO,EAAE;QACL,cAAc,EAAE;MACpB;IACJ,CAAC;IACD,MAAM;MAAEC;IAAK,CAAC,GAAG,MAAMT,KAAK,CAACU,IAAI,CAAC,wCAAwC,EAC1E;MAAC,UAAU,EAAER,KAAK;MAAE,UAAU,EAAEC;IAAQ,CAAC,EAAEI,MAAM,CAAC;IAElDH,QAAQ,CAACL,cAAc,CAACM,OAAO,CAACM,OAAO,CAACF,IAAI,CAAC,CAAC;IAE9CG,YAAY,CAACC,OAAO,CAAC,UAAU,EAAEC,IAAI,CAACC,SAAS,CAACN,IAAI,CAAC,CAAC;EAE1D,CAAC,QAAMO,KAAK,EACZ;IACIZ,QAAQ,CAACL,cAAc,CAACM,OAAO,CAACY,IAAI,CAChCD,KAAK,CAACE,QAAQ,IAAIF,KAAK,CAACE,QAAQ,CAACT,IAAI,CAACU,MAAM,GAC1CH,KAAK,CAACE,QAAQ,CAACT,IAAI,CAACU,MAAM,GAC1BH,KAAK,CAACI,OACZ,CAAC,CAAC;EACN;AACJ,CAAC;AACD,OAAO,MAAMC,MAAM,GAAGA,CAAA,KAAM,MAAOjB,QAAQ,IAAK;EAC5CQ,YAAY,CAACU,UAAU,CAAC,UAAU,CAAC;EACnClB,QAAQ,CAACL,cAAc,CAACM,OAAO,CAACC,OAAO,CAAC,CAAC,CAAC;EAC1CF,QAAQ,CAACL,cAAc,CAACM,OAAO,CAACkB,MAAM,CAAC,CAAC,CAAC;AAC7C,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}