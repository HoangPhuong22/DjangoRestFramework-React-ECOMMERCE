{"ast":null,"code":"import axios from \"axios\";\nimport { productDeleteSlice, productDetailSlice, productUpdateSlice, productCreateSlice, productHomeSlice } from \"../reducers/productSlice\";\nexport const productHomeAction = () => async dispatch => {\n  try {\n    // Gọi action creator và dispatch action trả về\n    dispatch(productHomeSlice.actions.Request());\n    const {\n      data\n    } = await axios.get('http://127.0.0.1:8000/api/products/');\n    // Gọi action creator với data làm argument và dispatch action trả về\n    dispatch(productHomeSlice.actions.Success(data));\n  } catch (error) {\n    // Tạo message từ error và dispatch action fail\n    const errorMessage = error.response && error.response.data.detail ? error.response.data.detail : error.message;\n    dispatch(productHomeSlice.actions.Fail(errorMessage));\n  }\n};\nexport const productDetailAction = id => async dispatch => {\n  try {\n    // Gọi action creator và dispatch action trả về\n    dispatch(productDetailSlice.actions.Request());\n    const {\n      data\n    } = await axios.get(`http://127.0.0.1:8000/api/products/${id}`);\n    // Gọi action creator với data làm argument và dispatch action trả về\n    dispatch(productDetailSlice.actions.Success(data));\n  } catch (error) {\n    // Tạo message từ error và dispatch action fail\n    const errorMessage = error.response && error.response.data.detail ? error.response.data.detail : error.message;\n    dispatch(productDetailSlice.actions.Fail(errorMessage));\n  }\n};\nexport const productDeleteAction = id => async (dispatch, getState) => {\n  try {\n    // Gọi action creator và dispatch action trả về\n    dispatch(productDeleteSlice.actions.Request());\n    const {\n      userLogin: {\n        userInfo\n      }\n    } = getState();\n    const config = {\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: `Bearer ${userInfo.token}`\n      }\n    };\n    await axios.delete(`http://127.0.0.1:8000/api/products/delete/${id}`, config);\n    // Gọi action creator và dispatch action trả về\n    dispatch(productDeleteSlice.actions.Success());\n  } catch (error) {\n    // Tạo message từ error và dispatch action fail\n    const errorMessage = error.response && error.response.data.detail ? error.response.data.detail : error.message;\n    dispatch(productDeleteSlice.actions.Fail(errorMessage));\n  }\n};\nexport const productCreateAction = () => async (dispatch, getState) => {\n  try {\n    // Gọi action creator và dispatch action trả về\n    dispatch(productCreateSlice.actions.Request());\n    const {\n      userLogin: {\n        userInfo\n      }\n    } = getState();\n    const config = {\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: `Bearer ${userInfo.token}`\n      }\n    };\n    const {\n      data\n    } = await axios.post('http://127.0.0.1:8000/api/products/create/', {}, config);\n    // Gọi action creator và dispatch action trả về\n    dispatch(productCreateSlice.actions.Success(data));\n  } catch (error) {\n    // Tạo message từ error và dispatch action fail\n    const errorMessage = error.response && error.response.data.detail ? error.response.data.detail : error.message;\n    dispatch(productCreateSlice.actions.Fail(errorMessage));\n  }\n};\nexport const productUpdateAction = product => async (dispatch, getState) => {\n  try {\n    // Gọi action creator và dispatch action trả về\n    dispatch(productUpdateSlice.actions.Request());\n    const {\n      userLogin: {\n        userInfo\n      }\n    } = getState();\n    const config = {\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: `Bearer ${userInfo.token}`\n      }\n    };\n    const {\n      data\n    } = await axios.put(`http://127.0.0.1:8000/api/products/update/${product._id}/`, product, config);\n    // Gọi action creator và dispatch action trả về\n    dispatch(productUpdateSlice.actions.Success(data));\n    dispatch(productDetailSlice.actions.Success(data));\n  } catch (error) {\n    // Tạo message từ error và dispatch action fail\n    const errorMessage = error.response && error.response.data.detail ? error.response.data.detail : error.message;\n    dispatch(productUpdateSlice.actions.Fail(errorMessage));\n  }\n};","map":{"version":3,"names":["axios","productDeleteSlice","productDetailSlice","productUpdateSlice","productCreateSlice","productHomeSlice","productHomeAction","dispatch","actions","Request","data","get","Success","error","errorMessage","response","detail","message","Fail","productDetailAction","id","productDeleteAction","getState","userLogin","userInfo","config","headers","Authorization","token","delete","productCreateAction","post","productUpdateAction","product","put","_id"],"sources":["D:/Desktop/ECOMMERCE/frontend/src/actions/productActions.js"],"sourcesContent":["import axios from \"axios\";\r\nimport {productDeleteSlice, productDetailSlice, \r\n    productUpdateSlice, productCreateSlice, productHomeSlice } from \"../reducers/productSlice\";\r\nexport const productHomeAction = () => async (dispatch) => {\r\n    try {\r\n        // Gọi action creator và dispatch action trả về\r\n        dispatch(productHomeSlice.actions.Request());\r\n        const { data } = await axios.get('http://127.0.0.1:8000/api/products/')\r\n        // Gọi action creator với data làm argument và dispatch action trả về\r\n        dispatch(productHomeSlice.actions.Success(data));\r\n\r\n    } catch (error) {\r\n        // Tạo message từ error và dispatch action fail\r\n        const errorMessage = error.response && error.response.data.detail \r\n                             ? error.response.data.detail : error.message;\r\n        dispatch(productHomeSlice.actions.Fail(errorMessage));\r\n    }\r\n}\r\n\r\nexport const productDetailAction = (id) => async (dispatch) => {\r\n    try {\r\n        // Gọi action creator và dispatch action trả về\r\n        dispatch(productDetailSlice.actions.Request());\r\n        const { data } = await axios.get(`http://127.0.0.1:8000/api/products/${id}`)\r\n        // Gọi action creator với data làm argument và dispatch action trả về\r\n        dispatch(productDetailSlice.actions.Success(data));\r\n\r\n    } catch (error) {\r\n        // Tạo message từ error và dispatch action fail\r\n        const errorMessage = error.response && error.response.data.detail \r\n                             ? error.response.data.detail : error.message;\r\n        dispatch(productDetailSlice.actions.Fail(errorMessage));\r\n    }\r\n}\r\n\r\nexport const productDeleteAction = (id) => async (dispatch, getState) => {\r\n    try {\r\n        // Gọi action creator và dispatch action trả về\r\n        dispatch(productDeleteSlice.actions.Request());\r\n        const { userLogin: { userInfo } } = getState();\r\n        const config = {\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                Authorization: `Bearer ${userInfo.token}`\r\n            }\r\n        }\r\n        await axios.delete(`http://127.0.0.1:8000/api/products/delete/${id}`, config)\r\n        // Gọi action creator và dispatch action trả về\r\n        dispatch(productDeleteSlice.actions.Success());\r\n    } catch (error) {\r\n        // Tạo message từ error và dispatch action fail\r\n        const errorMessage = error.response && error.response.data.detail \r\n                             ? error.response.data.detail : error.message;\r\n        dispatch(productDeleteSlice.actions.Fail(errorMessage));\r\n    }\r\n}\r\nexport const productCreateAction = () => async (dispatch, getState) => {\r\n    try {\r\n        // Gọi action creator và dispatch action trả về\r\n        dispatch(productCreateSlice.actions.Request());\r\n        const { userLogin: { userInfo } } = getState();\r\n        const config = {\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                Authorization: `Bearer ${userInfo.token}`\r\n            }\r\n        }\r\n        const { data } = await axios.post('http://127.0.0.1:8000/api/products/create/', {}, config) \r\n        // Gọi action creator và dispatch action trả về\r\n        dispatch(productCreateSlice.actions.Success(data));\r\n    }\r\n    catch (error) {\r\n        // Tạo message từ error và dispatch action fail\r\n        const errorMessage = error.response && error.response.data.detail \r\n                             ? error.response.data.detail : error.message;\r\n        dispatch(productCreateSlice.actions.Fail(errorMessage));\r\n    }\r\n\r\n}\r\n\r\nexport const productUpdateAction = (product) => async (dispatch, getState) => {\r\n    try {\r\n        // Gọi action creator và dispatch action trả về\r\n        dispatch(productUpdateSlice.actions.Request());\r\n        const { userLogin: { userInfo } } = getState();\r\n        const config = {\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                Authorization: `Bearer ${userInfo.token}`\r\n            }\r\n        }\r\n        const { data } = await axios.put(`http://127.0.0.1:8000/api/products/update/${product._id}/`, product, config)\r\n        // Gọi action creator và dispatch action trả về\r\n        dispatch(productUpdateSlice.actions.Success(data));\r\n        dispatch(productDetailSlice.actions.Success(data));\r\n    }\r\n    catch (error) {\r\n        // Tạo message từ error và dispatch action fail\r\n        const errorMessage = error.response && error.response.data.detail \r\n                             ? error.response.data.detail : error.message;\r\n        dispatch(productUpdateSlice.actions.Fail(errorMessage));\r\n    }\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}